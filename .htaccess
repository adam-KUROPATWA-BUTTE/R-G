# Anti-indexation et sécurité de base
Options -Indexes

<IfModule mod_rewrite.c>
  RewriteEngine On

  # Interdire l'accès direct à src/, app/, config/, routes/
  RewriteRule ^(src|app|config|routes|database)/ - [F,L]

  # Redirect all requests to public/index.php (MVC routing)
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  RewriteRule ^(.*)$ public/index.php [QSA,L]

  # Forcer www sans casser LWS (optionnel) - commentez si non souhaité
  #RewriteCond %{HTTP_HOST} !^www\. [NC]
  #RewriteRule ^(.*)$ https://www.%{HTTP_HOST}/$1 [R=301,L]
</IfModule>

# Types et headers de base pour SVG (optionnel)
AddType image/svg+xml .svg
Header set X-Content-Type-Options "nosniff"